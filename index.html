<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="">
	<link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
	<title>River Conditions Tool</title>

	<script src="extras/tablelist.js" type="text/javascript"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<!--<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>-->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


	<script src="assets/ie10-viewport-bug-workaround.js"></script>

	<script src="https://www.gstatic.com/charts/loader.js"></script>
	<script>
		google.charts.load('current', { packages: ['corechart'] });
	</script>


	<script type="text/javascript">
		var package_path = location.origin + location.pathname.replace(/\/[^/]+$/, "");
		if (package_path.substring(package_path.length - 1) == "/") {
			package_path = package_path.substring(0, package_path.length - 1);
		}

		var dojoConfig = {
			packages: [{
				name: "application",
				location: package_path + "/assets"
			}],
			paths: { extras: package_path + "/extras" }
		};
	</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js"></script>
	<script src="assets/knockout.simpleGrid.3.0.js"></script>

	<link rel="stylesheet" href="https://js.arcgis.com/4.23/esri/themes/light/main.css">
	<script src="https://js.arcgis.com/4.23/"></script>

	<link href="assets/ie10-viewport-bug-workaround.css" rel="stylesheet">
	<link href="Styles/jumbotron.css" rel="stylesheet">    <!-- Custom styles for this template -->
	<link rel="stylesheet" href="Styles/tablelist.css" type="text/css" />

	<!--<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet" media="screen">-->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


	<style>
		/*.esri-legend__layer-caption {
			display: none;
		}


		.liveExample {
			padding: 1em;
			background-color: #EEEEDD;
			border: 1px solid #CCC;
		}

			.liveExample input {
				font-family: Arial;
			}

			.liveExample b {
				font-weight: bold;
			}

			.liveExample p {
				margin-top: 0.9em;
				margin-bottom: 0.9em;
			}

			.liveExample select[multiple] {
				width: 100%;
				height: 8em;
			}

			.liveExample h2 {
				margin-top: 0.4em;
			}

		.ko-grid {
			margin-bottom: 1em;
			width: 100%;
			border: 1px solid silver;
			background-color: White;
		}*/

			.ko-grid th {
				text-align: left;
				background-color: #004876 !important;
				color: White;
			}

			.ko-grid td, th {
				padding: 0.4em;
			}

			.ko-grid tr:nth-child(odd) {
				background-color: #DDD;
			}

		.ko-grid-pageLinks {
			margin-bottom: 1em;
		}

			.ko-grid-pageLinks a {
				padding: 0.5em;
			}

				.ko-grid-pageLinks a.selected {
					background-color: Black;
					color: White;
				}

		li {
			list-style-type: disc;
			margin-left: 20px;
		}

/*		body {
			padding-top: 60px;
		}*/

		@media (max-width: 1200px) { /*This collapses thead watershed list at a narrow browser window width*/
			.navbar-header {
				float: none;
			}

			.navbar-left, .navbar-right {
				float: none !important;
			}

			.navbar-toggle {
				display: block;
			}

			.navbar-collapse {
				border-top: 1px solid transparent;
				box-shadow: inset 0 1px 0 rgba(255,255,255,0.1);
			}

			.navbar-fixed-top {
				top: 0;
				border-width: 0 0 1px;
			}

			.navbar-collapse.collapse {
				display: none !important;
			}

			.navbar-nav {
				float: none !important;
				margin-top: 7.5px;
			}

				.navbar-nav > li {
					float: none;
				}

					.navbar-nav > li > a {
						padding-top: 10px;
						padding-bottom: 10px;
					}

			.collapse.in {
				display: block !important;
			}
		}
	</style>
</head>

<body  id="bdy1">
	<nav class="navbar navbar-inverse navbar-fixed-top" id="UMH_NavBar1">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar2" aria-expanded="false" aria-controls="navbar2" style="margin-top:17px !important; margin-bottom:18px !important">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="index.html">River Conditions Tool Home</a>
			</div>
			<div id="navbar2" class="navbar-collapse collapse" style="height:30px !important;">
				<div style="margin-left:auto; margin-right:0; ">
					<form class="navbar-form navbar-right" style="margin-top:2px !important; margin-right:0px;float:right !important;">

						<div class="custom-select" style="width:245px; height:25px; margin-bottom:2px !important; height:25px; margin-right:0px; float:right !important; clear: both;">
							<select id="sel_Basin" style="height:25px; text-align:right">
								<option value="0">Select Region/Basin:</option>
							</select>
						</div>
						<ul id="navList" class="nav nav-pills pull-right" style="max-width:850px;  line-height: 0.8; float:right !important; clear: both;"></ul>

					</form>
				</div>
				<!--<form class="navbar-form navbar-right" style="margin-top:2px !important; margin-bottom:2px !important; height:25px; margin-right:0px;">
					<div class="custom-select" style="width:245px; height:25px;">
						<select id="sel_Basin" style="height:25px;">
							<option value="0">Select Region/Basin:</option>
						</select>
					</div>
				</form>
				<form class="navbar-form navbar-right" style="margin-top:2px !important; margin-bottom:2px !important">
					<ul id="navList" class="nav nav-pills pull-right"></ul>
				</form>-->
			</div>
		</div>
	</nav>

	<nav class="navbar navbar-inverse navbar-fixed-top" id="UMH_NavBar2" style="background-color:white !important; height:80px !important; display:none;">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" style="margin-top:20px !important; border-color:white; background-color:white;" data-toggle="collapse" data-target="#navbarUMH" aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar" style="background-color:#9fd3c7 !important;"></span>
					<span class="icon-bar" style="background-color:#9fd3c7 !important;"></span>
					<span class="icon-bar" style="background-color:#9fd3c7 !important;"></span>
				</button>
				<a href="https://uppermissouriheadwaters.org/">
					<img src="images/UMHW-Logo-300.png" alt="Upper Missouri Headwaters" id="logo" />
				</a>
			</div>
			<div id="navbarUMH" class="navbar-collapse collapse" style="background-color:white;">
				<form class="navbar-form navbar-right">
					<a class="navbar-brand" style="padding-top:20px; color:#9fd3c7 !important; font-size:14px; font-weight: 700; font-family: Open Sans,Arial,sans-serif !important;" href="https://uppermissouriheadwaters.org/">Home</a>
				</form>
			</div>
		</div>
	</nav>

	<!-- Main jumbotron  -->
	<div class="jumbotron" style="margin-bottom:-10px; margin-top:0px; padding-bottom:0px; padding-top:5px; padding-left:0px; padding-right:10px;">
		<div class="container" style="padding:5px;">
			<div id="divWatershedBasinInfoTop" style="line-height: normal; padding:0px;">
			</div>
			<div id="divCustomAlert" style="line-height: normal; background-color: #fa021b;">
			</div>
			<div id="divFWPAlert" style="line-height: normal; background-color: #b30000; visibility:hidden; padding:2px;">
				<span style="color: #ffffff; font-size: 12pt;">Montana FWP stream restrictions in this area!! Click section in "Summary of Conditions" below for detailed information and <a href="https://fwp.mt.gov/news/current-closures-restrictions" target="_blank" style="color:white; font-weight:bold;">here for official information...</a></span>
			</div>
		</div>
	</div>

	<div class="container">
		<!-- Example row of columns -->
		<div class="row">
			<div class="col-md-9 col-md-push-3" style="padding-top:20px; padding-right: 15px; padding-left:5px">
				<div id="mapDiv" style="z-index:5; width:98% !important;">
					<img id="loadingImg" src="images/loading.gif" style="position:absolute; right:50%; top:50%; z-index:100;" />
				</div>

				<div class="container" style="width: 99% !important;">
					<div class="row">
						<div class="col-xs-3">
							<div id="basemapGallery"></div>
						</div>
						<div class="col-xs-3">
							<p><div id="txt_xyCoords" style="color:#404040; width:200px; font-size:11px">Latitude: -<br>Longitude: -</div></p>
						</div>
						<div class="col-xs-1">
							<p><div id="scaleDiv" style="font-size:11px;"></div></p>
						</div>
					</div>
				</div>

				<div id="toggleLayers" style="font-size:10px;">
				</div>

				<div class="container" style="width: 99% !important;">
					<div class="row">
						<div class="col-xs-7">
							<button type="button" class="btn btn-info" id="btnShowHideLegend" style="position:relative; font-size:12px; left:10px; margin-bottom:5px; padding-top:1px; padding-bottom:1px; vertical-align:text-top;" data-toggle="collapse" data-target="#divShowHideLegendBtn">Show/Hide Map Legend</button>
						</div>
						<div class="col-xs-5">

							<div class="dropup">
								<button class="btn btn-primary dropdown-toggle"
										style="position: relative; font-size: 12px; float: right;
										right: 15px; margin-bottom: 5px; padding-top: 1px; padding-bottom: 1px;
										vertical-align: text-top; background-color: #31b0d5; border-color: #31b0d5"
										type="button" data-toggle="dropdown">
									Jump to Map...
									<span class="caret"></span>
								</button>
								<ul class="nav dropdown-menu" id="dropDownId">
									<!--<li><a href="#">HTML</a></li>
						<li><a href="#">CSS</a></li>
						<li><a href="#">JavaScript</a></li>-->
								</ul>
							</div>
						</div>
					</div>
				</div>

				<div id="divShowHideLegendBtn" class="collapse  in">
					<h2>Map Legend</h2>
					<div id="legendDiv"></div>
				</div>

				<div id="divSectionDetail_A" style="display:none; margin-bottom:0px;">
					<!--<h2>Stream Section Detail</h2>-->
					<div class="clsSectionDetailCFSTEMP"><h3>Stream Section Detail</h3></div>
					<div style="margin: 15px 0 0 0;">
						<div class="clsSectionDetailCFSTEMP_WARN" id="detailSection2">
							<h3>Montana FWP Closure Information!  Click <a href="https://fwp.mt.gov/news/current-closures-restrictions" target="_blank">here</a> for official restriction information.</h3>
							<br />
							<div>Press Release: <span data-bind='html: $root.CurrentDisplayGageRecord().fwpPRESSRELEASE'></span></div>
							<div>Publish Date: <span data-bind='text: $root.CurrentDisplayGageRecord().fwpPUBLISHDATE'></span></div>
							<br />
							<div><span data-bind='html: $root.CurrentDisplayGageRecord().fwpTITLE'></span></div>
							<br />
							<div>Description: <span data-bind='text: $root.CurrentDisplayGageRecord().fwpDESCRIPTION'></span></div>
							<br />
							<div>Location: <span data-bind='text: $root.CurrentDisplayGageRecord().fwpLOCATION'></span></div>
						</div>

						<div id="detailSection1">
							<div>Stream Name: <span data-bind='text: $root.CurrentDisplayGageRecord().StreamName'></span></div>
							<div>Stream Section Name: <span data-bind='text: $root.CurrentDisplayGageRecord().SectionName_'></span></div>
							<div>Stream Section Number: <span data-bind='text: $root.CurrentDisplayGageRecord().SectionID'></span></div>
							<div>Gage Name:  <span data-bind='text: $root.CurrentDisplayGageRecord().SiteName'></span></div>
							<!--<div>Section Start:  <span data-bind='text: $root.CurrentDisplayGageRecord().StartEndpoint'></span></div>
				<div>Section End:  <span data-bind='text: $root.CurrentDisplayGageRecord().EndEndpoint'></span></div>-->
							<hr style="margin-top:5px; margin-bottom:5px;">
							<div id="detailSectionUSGSCurrent">Gage Source Data: <a data-bind="attr: {href: $root.CurrentDisplayGageRecord().Hyperlink}" target="_blank">Current</a> readings for gage #<span data-bind='text: $root.CurrentDisplayGageRecord().strSiteID'></span> (Note: Some gages may not provide year round current data)</div>
							<br />
							<div id="detailSectionUSGSHistorical">Gage Source Data: <a data-bind="attr: {href: $root.CurrentDisplayGageRecord().strDailyStat_URL}" target="_blank">Historical</a> readings for gage #<span data-bind='text: $root.CurrentDisplayGageRecord().strSiteID'></span> (Note: Some gages may not provide year round historical data)</div>

						</div>


						<div id="detailSection3" style="background-color:#eee !important; margin-bottom:0;">
							<div><h3>Streamflow Data</h3></div>

							<div style="margin-left:10px; margin-bottom:0px;">
								<div>Current Discharge (cfs):  <span data-bind='text: $root.CurrentDisplayGageRecord().Discharge'></span> as of <span data-bind='text: $root.CurrentDisplayGageRecord().formattedDischargeDateTime'></span></div>
								<div id="divDay3CFSTrend">3 day trend <img height="26px" data-bind="attr:{src: $root.CurrentDisplayGageRecord().Day3CFSTrend}" /></div>
							</div>

							<div id="divCFSTargetDefinitions" style="display:none;background-color:#eee !important; margin-top:0;margin-bottom:0;">

								<div style="margin:10px;">Stream status based on waterflow (cfs) targets:  <span data-bind='text: $root.CurrentDisplayGageRecord().SiteFlowStatus'></span></div>
								<br />
								<div style="margin-left:30px"> <u>Waterflow target definitions for this stream section</u></div>
								<div class="tab">
									<table>
										<tr><td>PREPARE FOR CONSERVATION:</td><td><span data-bind='text: $root.CurrentDisplayGageRecord().iLateFlowPref4ConsvValue'></span> (cfs):<span data-bind='text: $root.CurrentDisplayGageRecord().strLateFlowPref4ConsvValue'></span></td></tr>
										<tr><td>CONSERVATION:</td><td><span data-bind='text: $root.CurrentDisplayGageRecord().iLateFlowConsvValue'></span> (cfs):<span data-bind='text: $root.CurrentDisplayGageRecord().strLateFlowConsvValue'></span></td></tr>
										<tr><td>EXPANDED CONSERVATION MEASURES:</td><td><span data-bind='text: $root.CurrentDisplayGageRecord().iLateFlowClosureValueFlow'></span> (cfs):<span data-bind='text: $root.CurrentDisplayGageRecord().strLateFlowClosureValueFlow'></span></td></tr>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div id="ViewModel2CFSBinding_div" style="background-color:#eee; padding:10px; margin-top:0px; margin-bottom:0px;">
					<div id="ViewModel2CFS_line_div" data-bind="googleBarChart: new ViewModel2CFS_LineData, chartOptions: {interpolateNulls: true,
                        legend: { position: 'none' }, chart: { title: 'title-text', subtitle: 'subtitle-text' }}">
					</div>
				</div>

				<div id="divSectionDetail_B" style="display:none; margin-bottom:0;">
					<div id="detailSection4" style="background-color:#eee !important;">
						<div><h3>Water Temperature Data</h3></div>
						<div style="margin-left:10px;">
							<div>Current Water Temperature (F): <span data-bind='text: $root.CurrentDisplayGageRecord().WaterTemp'></span> as of <span data-bind='text: $root.CurrentDisplayGageRecord().formattedWaterTempDateTime'></span></div>
							<div id="divDay3TMPTrend">(3 day trend <img height="26px" data-bind="attr:{src: $root.CurrentDisplayGageRecord().Day3TMPTrend}" />)</div>
							<div>Stream status based on temperature target: <span data-bind='text: $root.CurrentDisplayGageRecord().SiteTempStatus'></span></div>
							<br />
							<div><u>Temperature target definition for this stream section</u></div>
							<div>Temperature Closure Target: <span data-bind='text: $root.CurrentDisplayGageRecord().iTempClosureValue'></span></div>
							<!--<div>Temperature Collected: <span data-bind='text: $root.CurrentDisplayGageRecord().strTempCollected'></span></div>-->
							<!--<div><span data-bind='text: $root.CurrentDisplayGageRecord().strMONTHDAYEarlyFlowFromDroughtManagementTarget'></span></div>
				<div><span data-bind='text: $root.CurrentDisplayGageRecord().strMONTHDAYEarlyFlowToDroughtManagementTarget'></span></div>-->
						</div>
					</div>
				</div>

				<div id="ViewModel2TMPBinding_div" style="background-color:#eee; padding:10px; margin-top:0;">
					<div id="ViewModel2TMP_line_div" data-bind="googleBarChart: new ViewModel2TMP_LineData, chartOptions: {interpolateNulls: true,
                            legend: { position: 'none' }, chart: { title: 'title-text', subtitle: 'subtitle-text' }}">
					</div>
				</div>



				<div id="divSectionDetail_C" style="display:none; margin-bottom:0;">
					<div id="detailSection5" style="background-color:#eee !important;">
						<div><h3>Gage Height Data</h3></div>
						<div style="margin-left:10px;">
							<div>Current Gage Height (ft): <span data-bind='text: $root.CurrentDisplayGageRecord().GageHt'></span> as of <span data-bind='text: $root.CurrentDisplayGageRecord().formattedGageHtDateTime'></span></div>
							<div id="divDay3HtTrend">(3 day trend <img height="26px" data-bind="attr:{src: $root.CurrentDisplayGageRecord().Day3HtTrend}" />)</div>
						</div>
						<div id="divHtTargetDefinitions" style="display:none;background-color:#eee !important; margin-top:0;margin-bottom:0;">
							<div>Stream status based on Gage Height target: <span data-bind='text: $root.CurrentDisplayGageRecord().SiteHtStatus'></span></div>
							<br />
							<div style="margin-left:30px"> <u>Gage Height definitions for this stream section</u></div>
							<div class="tab">
								<table>
									<tr><td>RECOMMENDED CONSERVATION MEASURES:</td><td><span data-bind='text: $root.CurrentDisplayGageRecord().iLateHtPref4ConsvValue'></span> (ft):<span data-bind='text: $root.CurrentDisplayGageRecord().strLateHtPref4ConsvValue'></span></td></tr>
									<tr><td>CONSERVATION:</td><td><span data-bind='text: $root.CurrentDisplayGageRecord().iLateHtConsvValue'></span> (ft):<span data-bind='text: $root.CurrentDisplayGageRecord().strLateHtConsvValue'></span></td></tr>
									<tr><td>EXPANDED CONSERVATION MEASURES:</td><td><span data-bind='text: $root.CurrentDisplayGageRecord().iLateHtClosureValueFlow'></span> (ft):<span data-bind='text: $root.CurrentDisplayGageRecord().strLateHtClosureValueFlow'></span></td></tr>
								</table>
							</div>
						</div>
					</div>
				</div>

				<div id="ViewModel2HtBinding_div" style="background-color:#eee; padding:10px; margin-top:0;">
					<div id="ViewModel2Ht_line_div" data-bind="googleBarChart: new ViewModel2Ht_LineData, chartOptions: {interpolateNulls: true,
                            legend: { position: 'none' }, chart: { title: 'title-text', subtitle: 'subtitle-text' }}">
					</div>
				</div>



				<br />
					<button type="button" class="btn btn-info" id="btnGetHistoricRestrctions" style="position:relative; display: none; font-size:12px; left:25px; margin-bottom:5px; padding-top:1px; padding-bottom:1px; vertical-align:text-top;" data-toggle="collapse" data-target="#ViewModelHistoricRestrctions_div">Retrieve Historic Closure/Restriction Information</button>
				<br />

				<div id="ViewModelHistoricRestrctions_div" class="collapse">
					<div><h3>Historic Official Waterbody Closures/Restrictions</h3></div>
					<div id="divHistoricRecordText"></div>

					<div data-bind='simpleGrid: gridViewModel, simpleGridTemplate:"custom_grid_template"'> </div>

					<button id="btnHistsortByName" data-bind='click: sortByName' style="display:none;">
						Sort by Location
					</button>

					<button id="btnHistsortByPubDate" data-bind='click: sortByPubDate' style="display:none;">
						Sort by Publication Date
					</button>
					<p><i>Note: Historic waterbody closures/restrictions listed include any historic spatial information that intersects the selected stream section.  The results can include adjacent stream closure/restriction (i.e. stream confluences).</i></p>

				</div>
			</div>


			<div class="col-md-3 col-md-pull-9" style="padding-left: 5px; padding-right: 5px" id="entriesCon_div">
				<h2>Summary of Conditions</h2>
				<p><i>Click section listed below or on Map for detail display below the Map Legend</i></p>

				<p id="txtFromToDate"></p>
				<img id="loadingImg2" src="images/loading.gif" />
				<div id="divLoadingUSGS"><i>Loading Gage Data...</i></div>
				<table class="TableListJS" id="entries">
					<thead>
					</thead>
					<tbody data-bind="foreach: {data: gageRecords}" style="font-size: 13px;">
						<tr style="cursor:pointer;" data-bind="click: $root.selectThing ">
							<td>
								<div class="rTableBody">
									<div class="rTableRow">
										<div class="rTableCellFW">
											Stream
										</div>
										<div class="rTableCell">
											<span data-bind='text: StreamName'></span>
										</div>
									</div>
									<div class="rTableRow">
										<div class="rTableCellFW">
											Section
										</div>
										<div class="rTableCell">
											<span data-bind='text: SectionName_'></span> <span data-bind='text:SiteName'></span>
										</div>
									</div>
									<div class="rTableRow">
										<div class="rTableCellFW">
											Streamflow (cfs)
										</div>
										<div class="rTableCell">
											<span data-bind='text: Discharge, attr: {title: formattedDischargeDateTime}'></span>        (3 day trend <img height="16px" data-bind="attr:{src: Day3CFSTrend}" />)
										</div>
									</div>

									<div class="rTableRow">
										<div class="rTableCellFW">
											H2O Temp (F)
										</div>
										<div class="rTableCell">
											<span data-bind='text: WaterTemp, attr: {title: formattedWaterTempDateTime}'></span>        (3 day trend <img height="16px" data-bind="attr:{src: Day3TMPTrend}" />)
										</div>
									</div>

									<div class="rTableRow">
										<div class="rTableCellFW">
											Gage Height (ft)
										</div>
										<div class="rTableCell">
											<span data-bind='text: GageHt, attr: {title: formattedGageHtDateTime}'></span>        (3 day trend <img height="16px" data-bind="attr:{src: Day3HtTrend}" />)
										</div>
									</div>

									<div class="rTableRow">
										<div class="rTableCellFW">
											Status
										</div>
										<div class="rTableCell">
											<span data-bind='text: overallStatus'></span>
										</div>
									</div>
								</div>
							</td>
							<td class="htmlRowNotDisplayed">
								<div><span data-bind='text: strMONTHDAYEarlyFlowFromDroughtManagementTarget'></span></div>
								<div><span data-bind='text: strMONTHDAYEarlyFlowToDroughtManagementTarget'></span></div>
								<div><span data-bind='text: iLateFlowPref4ConsvValue'></span></div>
								<div><span data-bind='text: iLateFlowConsvValue'></span></div>
								<div><span data-bind='text: iLateFlowClosureValueFlow'></span></div>

								<div><span data-bind='text: iLateHtPref4ConsvValue'></span></div>
								<div><span data-bind='text: iLateHtConsvValue'></span></div>
								<div><span data-bind='text: iLateHtClosureValue'></span></div>

								<div><span data-bind='text: strLateFlowPref4ConsvValue'></span></div>
								<div><span data-bind='text: strLateFlowConsvValue'></span></div>
								<div><span data-bind='text: strLateFlowClosureValueFlow'></span></div>
								<div><span data-bind='text: iTempClosureValue'></span></div>
								<div><span data-bind='text: strTempCollected'></span></div>
								<div><span data-bind='text: strSiteID'></span></div>

								<div><span data-bind='text: SectionID'></span></div>

								<div><span data-bind='text: strDailyStat_URL'></span></div>
								<div><span data-bind='text: overallSymbol'></span></div>
								<div><span data-bind='text: strWatershed'></span></div>
								<div><span data-bind='text: strAgency'></span></div>
							</td>
						</tr>
					</tbody>
				</table>

				<p><i>* Indicates the reading (streamflow and/or temperature) for this USGS site is not collected.  To find out more information, click a stream section in the summary, next click the "Gage Source Data: Current" web link under "Stream Section Detail"</i></p>
			</div>




		</div>

		<hr>
		<footer>
			<p>Hosted by the <a href="https://uppermissouriheadwaters.org/" target="_blank"> Upper Missouri Headwaters</a> via <a href="https://katearpin.com/" target="_blank">Kate Arpin Graphics & Web Design</a>.  Developed by the USFWS (Region 6, Science Applications) and Montana State University (<a href="https://www.montana.edu/earthsciences/directory/2139973/eric-sproles" target="_blank">Eric Sproles</a>) in cooperation with <a href="http://dnrc.mt.gov/" target="_blank">Montana DNRC</a> and associated watershed groups of Montana and Wyoming.  Version: 2.1.0</p>
		</footer>
	</div> <!-- /container -->



	<script>
		var editorWidget;
		var pSrcFeatureLayer;
		var pFCol;
		var app = {};
		require([
			"esri/Map", "esri/views/MapView",
			"extras/MH_Setup",
			"extras/MH_GetGageData",
			"esri/config",
			"dojo/parser",
			"extras/MH_GetWarningData",
			"extras/MH_GetHistoricWarningData",
			"dojo/domReady!"],

			//, , 
			//	"application/bootstrapmap",
			//	"dojo/parser",
			//	"dojo/domReady!"],
			/*function (MH_Setup, MH_GetGageData, MH_GetWarningData, MH_GetHistoricWarningData, BootstrapMap, parser) {*/

			/*function (MH_Setup, BootstrapMap, parser) {*/
			function (Map, MapView, MH_Setup, MH_GetGageData, esriConfig, parser, MH_GetWarningData, MH_GetHistoricWarningData) {

				parser.parse();
				//esriConfig.defaults.io.proxyUrl = "/proxy/";
				esriConfig.request.proxyUrl = "/proxy/";

				app.pSup = new MH_Setup({}); // instantiate the class
				app.pGetWarn = new MH_GetWarningData({}); // instantiate the class
				app.pGetHistWarn = new MH_GetHistoricWarningData({}); // instantiate the class
				app.pGage = new MH_GetGageData({}); // instantiate the class

				app.pSup.Phase1();
			});
	</script>


	<script id="custom_grid_template" type="text/html">
		<table class="ko-grid" cellspacing="0">
			<thead>
				<tr data-bind="foreach: columns">
					<th data-bind="text: headerText"></th>
				</tr>
			</thead>
			<tbody data-bind="foreach: itemsOnCurrentPage">
				<tr data-bind="foreach: $parent.columns">
					<!--ko if: typeof rowText == 'object' && typeof rowText.action == 'function'-->
					<td><button data-bind="click:rowText.action($parent)">Official Link</button></td>
					<!-- /ko -->

					<td data-bind="text: typeof rowText == 'function' ? rowText($parent) : $parent[rowText] "></td>
				</tr>
			</tbody>
		</table>
	</script>


</body>

</html>



